#!/usr/bin/env python

from automata.pda.npda import NPDA

npda = NPDA(
    states={"s0", "s1", "s2", "s3", "s4", "s5", "s6", "s7", "s8", "s9", "s10", "s11"},
    input_symbols={"0", "1"},
    stack_symbols={"0", "1", "#"},
    transitions={
        "s0": {
            "0": {
                "#": {("s4", "#")},
                "0": {("s4", "0")},
            },
            "1": {
                "#": {("s1", "#")},
                "0": {("s1", "0")},
            },
        },
        "s1": {
            "0": {
                "#": {("s2", "#")},
                "0": {("s2", "0")},
            },
            "1": {
                "#": {("s1", "#")},
                "0": {("s1", "0")},
            },
        },
        "s2": {
            "0": {
                "#": {("s4", "#")},
                "0": {("s4", "0")},
            },
            "1": {
                "#": {("s6", "#")},
                "0": {("s3", "")},
            },
        },
        "s3": {
            "0": {
                # "#": {("s5", "#")},
                "0": {("s5", ("0", "0"))},
            },
            "1": {
                "#": {("s1", "#")},
                "0": {("s1", "0")},
            },
        },
        "s4": {
            "0": {
                "#": {("s4", "#")},
                "0": {("s4", "0")},
            },
            "1": {
                "#": {("s3", "#")},
                "0": {("s3", "0")},
            },
        },
        "s5": {
            "0": {
                "#": {("s4", "#")},
                "0": {("s4", "0")},
            },
            "1": {
                "#": {("s3", "#")},
                "0": {("s3", "")},
            },
        },
        "s6": {
            "0": {
                "#": {("s11", "#")},
                # "0": {("s4", "0")}, # WARNING: not used
            },
            "1": {
                "#": {("s7", "#")},
                "1": {("s7", "1")},
            },
        },
        "s7": {
            "0": {
                "#": {("s8", "#")},
                "1": {("s8", "1")},
            },
            "1": {
                "#": {("s7", "#")},
                "1": {("s7", "1")},
            },
        },
        "s8": {
            "0": {
                "#": {("s10", "#")},
                "1": {("s10", "1")},
            },
            "1": {
                "#": {("s9", "#")},
                "1": {("s9", ("1", "1"))},
            },
        },
        "s9": {
            "0": {
                "#": {("s4", "#")},
                "1": {("s8", "")},
            },
            "1": {
                "#": {("s7", "#")},
                "1": {("s7", "1")},
            },
        },
        "s10": {
            "0": {
                "#": {("s10", "#")},
                "1": {("s10", "1")},
            },
            "1": {
                "#": {("s9", "#")},
                "1": {("s9", "1")},
            },
        },
        "s11": {
            "0": {
                "#": {("s4", "#")},
                "0": {("s4", "0")},
            },
            "1": {
                "#": {("s6", "#")},
                "0": {("s6", "0")},
            },
        },
    },
    initial_state="s0",
    initial_stack_symbol="#",
    final_states={"s6", "s7", "s8", "s9", "s10"},
    acceptance_mode="final_state",
)
